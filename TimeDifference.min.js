function timeDifference(d){var g=1000;var e=g*60;var h=e*60;var m=h*24;var j=m*30;var k=0;var i=d?Date.parse(d.replace(/-/gi,"/")):new Date().getTime();var o=new Date().getTime();var n=o-i;if(n<0){alert("开始日期大于结束日期，计算失败！");return 0}var c=n/j;var b=n/(7*m);var a=n/m;var f=n/h;var l=n/e;if(c>=1){return d}else{if(b>=1){k=parseInt(b)+"个星期前"}else{if(a>=1){k=parseInt(a)+"天前"}else{if(f>=1){k=parseInt(f)+"个小时前"}else{if(l>=1){k=parseInt(l)+"分钟前"}else{k="刚刚"}}}}}return k};